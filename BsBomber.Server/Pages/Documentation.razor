@page "/Documentation"
<h1>Dokumentace</h1>
<h2>Základní princip hry</h2>
<p>
    Každý had funguje jako samostatný http server. V každé iteraci hry je na http server hada (dále jen hada) poslán POST request na adresu /move.
    V POST datech je stav hry serializovaný do JSONu. Odpověď hada je směr (Up, Down, Left, Right), kterým se má v dané iteraci vydat.
    Před začátkem hry, je na hada poslán POST request na adresu /init s počátečním stavem hry. Had odpovídá pouze stavovým kódem 200.
</p>

<h2>Základní pravidla/vlastnosti hry</h2>
<pre>
    1.	Nebudou překážky
    2.	Místo jídla budou miny
        a.	Pokud stoupnu na minu, tak exploduje a hráč zemře
        b.	Miny půjdou odpálit pomocí bomb
        c.	Pokud odpálím minu, dostanu bod
        d.	Mina vytvoří oheň v okruhu 3x3
        e.	Počet min na hrací ploše bude konstantní, jakmile se jedna odpálí, tak se náhodně objeví nová
        f.	(Miny se budou pokládat náhodně tak, aby vzdálenost dvou min byla alespoň 2 políčka, tzn. jedna kostička mezera) – uvidíme jestli bude potřeba
    3.	Dva hráči nemohou být na jednom políčku
    4.	Hráč klade bombu na místo, kde stojí
    5.	Nelze položit bombu na místo, kde už nějaká bomba je
    6.	Mohu stoupnout na bombu, tj. bomba není překážka
    7.	Mohu nastavit časovač bomby na 2 a 3 iterace
    8.	Exploze bomby vytvoří oheň jehož paprsky míří horizontálně a vertikálně přes celou hrací plochu nehledě na překážkách (jiné bomby, hráči, miny).   Oheň hoří 3 iterace.
    9.	Pokud se oheň dotkne hráče, tak hráč umře
    10.	Pokud se oheň dotkne miny, tak mina exploduje
    11.	Pokud se oheň dotkne bomby, bomba exploduje
    12.	Pokud udělá hráč neplatný pohyb (akci), tak se pohyb neuskuteční

</pre>



<h2>Hrací plocha</h2>
<p>
    Pozice na hrací ploše je určena celočíselnými souřadnicemi x a y. Každé pozici odpovídá jeden čtvereček. Pozice (0,0) je v levém spodním rohu.
    <br />
    <img src="hraci-plocha.png"/>
</p>

<h2>Ovládání hry</h2>
<p>
    <img src="ovladaci-panel.png" />
    <ul>
        <li><em>Spustit</em> - spustí hru.</li>
        <li><em>Zastavit</em> - zastaví hru.</li>
        <li><em>Předchozí krok</em> - umožní zobrazit stav hry v předchozích iteracích.</li>
        <li><em>Následující krok</em> - provede další iteraci anebo se posune v historii směrem vpřed.</li>
        <li><em>Opakovat request</em> - znovu odešle na všechny hady request se stavem hry v aktuálně zobrazené iteraci. Odpověď hada je však zahozena. Určeno k ladění hadů.</li>
        <li><em>Nová hra</em> - ukončí aktuální hru.</li>
    </ul>
</p>

<h2>Struktura objektu popisující stav hry</h2>
<ul><em>root (kořenový objekt)</em>
    <ul>
        <li>
            <em>board (objekt)</em> - Informace o hrací ploše.
            <ul>
                <li><em>width (celé číslo)</em> - Šířka hrací plochy (počet kostiček).</li>
                <li><em>height (celé číslo)</em> - Výška hrací plochy (počet kostiček).</li>
                <li><em>food (pole objektů typu Coordinate)</em> - Informace o políčkách s jídlem. V každém prvku pole je souřadnice jednoho jídla. Pokud je na hrací ploše 5 kusů jídel, bude zde 5 prvků.</li>
                <li><em>obstacles (pole souřadnic)</em> - Informace o políčkách s překážkami. V každém prvku pole je souřadnice jedné překážky. Pokud je na hrací ploše 5 překážek, bude zde 5 prvků.</li>
                <li><em>bombers (pole objektů typu Bomber)</em> - Informace o všech hadech na hrací ploše. Jsou zde i hadi, kteří již zemřeli. Je zde i had aktuálního hráče.</li>
            </ul>
        </li>
        <li><em>you (objekt typu Bomber)</em> - Informace o hadu hráče.</li>
        <li><em>iteration (celé číslo)</em> - Aktuální iterace hry.</li>
    </ul>
</ul>

<b>Struktura objektu Coordinate</b>
<ul>
    <li><em>x (celé číslo)</em> - Pozice x. Počítáno od 0.</li>
    <li><em>y (celé číslo)</em> - Pozice y. Počítáno od 0.</li>
</ul>

<b>Struktura objektu Bomber</b>
<ul>
    <li><em>id (řetězec)</em> - Jedinečný identifikátor hada v rámci hry.</li>
    <li><em>name (řetězec)</em> - Název hry.</li>
    <li><em>url (řetězec)</em> - Bázová url adresa http serveru hada.</li>
    <li><em>head (objekt typu Coordinate)</em> - Pozice hlavy hada.</li>
    <li><em>body (pole objektů typu Coordinate)</em> - Pozice jednotlivých článků těla kromě hlavy. Pořadí prvků v poli není nijak definováno, tzn. není zaručeno, že na 0. prvku bude pozice článku těla hned za hlavou.</li>
    <li><em>length (celé číslo)</em> - Délka hada včetně hlavy. Had bez těla, tj. pouze s hlavou má délku 1.</li>
    <li><em>energy (celé číslo)</em> - Energie hada. V každé iteraci se energie snižuje o 1.</li>
    <li><em>alive (boolean)</em> - Zda je had naživu.</li>
    <li><em>color (řetězec)</em> - Barva hada v html formátu.</li>
    <li><em>latency (celé číslo)</em> - Průměrná latence hada. Pokud latence překročí určitou mez bude had zabit.</li>
    <li><em>deathCause (řetězec)</em> - Příčina smrti hada.</li>
    <li><em>deathIteration (nullable celé číslo)</em> - Iterace, ve které had zemřel.</li>
</ul>

<h2>Ukázka JSON požadavku</h2>
<pre>
<code>
{
  "board": {
    "height": 12,
    "width": 12,
    "food": [
      {
        "x": 9,
        "y": 11
      },
      {
        "x": 11,
        "y": 9
      }
    ],
    "obstacles": [],
    "bombers": [
      {
        "id": "f4a8d523-4057-48a7-b1dd-c827b4dbc82f",
        "name": "BsBomber0",
        "url": "http://localhost:6001/bomber/0/",
        "head": {
          "x": 7,
          "y": 6
        },
        "body": [],
        "length": 1,
        "energy": 78,
        "alive": true,
        "color": "#ff0000",
        "latency": 24,
        "deathCause": null,
        "deathIteration": null
      },
      {
        "id": "4ac4bec8-ffb1-4877-9f05-8b53671bea17",
        "name": "BsBomber1",
        "url": "http://localhost:6001/bomber/1/",
        "head": {
          "x": 7,
          "y": 2
        },
        "body": [
          {
            "x": 4,
            "y": 2
          },
          {
            "x": 5,
            "y": 2
          },
          {
            "x": 6,
            "y": 2
          }
        ],
        "length": 4,
        "energy": 108,
        "alive": true,
        "color": "#00ff00",
        "latency": 28,
        "deathCause": null,
        "deathIteration": null
      }
    ],
    "you" : {
        "id": "f4a8d523-4057-48a7-b1dd-c827b4dbc82f",
        "name": "BsBomber0",
        "url": "http://localhost:6001/bomber/0/",
        "head": {
          "x": 7,
          "y": 6
        },
        "body": [],
        "length": 1,
        "energy": 78,
        "alive": true,
        "color": "#ff0000",
        "latency": 24,
        "deathCause": null,
        "deathIteration": null
      },
  },
  "iteration": 22
}
</code>
</pre>


<h2>Ukázka JSON odpovědi</h2>
<pre>
<code>
{
    "direction":"Down"
}
</code>
</pre>